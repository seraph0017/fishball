(function(g){var m=function(){};m.test=document.createElement("div");m.isEmpty=function(H){return 0==H.replace(/^\s+|\s+$/g,"").length};m.isNumber=function(H){return!isNaN(parseFloat(H))&&isFinite(H)};m.isIOS=function(){return navigator.userAgent.match(/(iPad|iPhone|iPod)/g)};m.isMobile=function(){return/Android|webOS|iPhone|iPad|iPod|sony|BlackBerry/i.test(navigator.userAgent)};m.isIE=function(){return-1!=m.getInternetExplorerVersion()?!0:!1};m.isChrome=function(){var H=navigator.userAgent.toLowerCase();
if(!H.match(/browser/ig))return H.match(/chrome/ig)};m.isSafari=function(){return navigator.vendor&&-1<navigator.vendor.indexOf("Apple")&&navigator.userAgent&&-1==navigator.userAgent.indexOf("CriOS")&&-1==navigator.userAgent.indexOf("FxiOS")};m.hasLocalStorage=function(){try{return"localStorage"in g&&null!==g.localStorage}catch(H){return!1}};m.getInternetExplorerVersion=function(){var H=-1;if("Microsoft Internet Explorer"==navigator.appName){var xb=navigator.userAgent,yb=/MSIE ([0-9]{1,}[.0-9]{0,})/;
null!=yb.exec(xb)&&(H=parseFloat(RegExp.$1))}else"Netscape"==navigator.appName&&(xb=navigator.userAgent,yb=/Trident\/.*rv:([0-9]{1,}[.0-9]{0,})/,null!=yb.exec(xb)&&(H=parseFloat(RegExp.$1)));return H};m.isIOS=function(){return navigator.userAgent.match(/(iPad|iPhone|iPod)/g)};m.isiPhoneIpod=function(){var H=navigator.userAgent;return-1<H.indexOf("iPhone")||-1<H.indexOf("iPod")};m.isAndroid=function(){return-1<navigator.userAgent.indexOf("Android")};g.MGCUtils=m})(window);
(function(g){g.fn.multiGallery=function(m,H){var xb,yb,wd,xd;function dc(a){"on"==a?ec.css({opacity:0,display:"block"}).stop().animate({opacity:1},{duration:1E3,easing:"easeOutSine"}):ec.stop().animate({opacity:0},{duration:500,easing:"easeOutSine",complete:function(){ec.css("display","none")}})}function Nb(a,b){var c=500;"undefined"!==typeof b&&(c=0);"on"==a?(fc.stop().css({opacity:0,display:"block"}).animate({opacity:ne},{duration:c,easing:"easeOutSine",complete:function(){zb.stop().css({opacity:0,
display:"block"}).animate({opacity:1},{duration:c,easing:"easeOutSine",complete:function(){Ma=!1}})}}),Ob&&Ob._findMedia(gc,hc),ic=!0,Na&&oa.getMediaPlaying()&&(oa.pauseAudio(),gb=!0)):(Ob&&Ob._cleanMedia(),fc.stop().animate({opacity:0},{duration:c,easing:"easeOutSine",complete:function(){fc.css("display","none")}}),zb.stop().animate({opacity:0},{duration:c,easing:"easeOutSine",complete:function(){zb.css("display","none");ic=Ma=!1;ha&&(ha=!1,Pb(!0));Na&&gb&&(gb=!1,oa.playAudio())}}))}function oe(){var a,
b,c,d,e,f=!1;R.off("touchstart.ap touchmove.ap touchend.ap click.ap-touchclick").on("touchstart.ap",function(k){if(!w||F||F)return!1;if(!jc)return!0;k=k.originalEvent.touches[0];a=R.position().left;b=R.position().top;c=k.pageX;d=k.pageY;e=!1;f=!0}).on("touchmove.ap",function(k){if(f){k=k.originalEvent.touches[0];if("horizontal"==Wa){var h=a-c+k.pageX,n=P,t=R.width();0<h?(h=0,Xa("off"),C=0):(Xa("on"),C=Math.abs(Math.floor(h/(ea+N))));h<n-t?(h=n-t,Ya("off"),C=x-y):(Ya("on"),C=Math.abs(Math.floor(h/
(ea+N))));R.css("left",h+"px")}else h=b-d+k.pageY,n=P,t=R.height(),0<h?(h=0,Xa("off"),C=0):(Xa("on"),C=Math.abs(Math.floor(h/(ea+N)))),h<n-t?(h=n-t,Ya("off"),C=x-y):(Ya("on"),C=Math.abs(Math.floor(h/(ea+N)))),R.css("top",h+"px");e=e||5<Math.abs(c-k.pageX)||5<Math.abs(d-k.pageY);return!1}}).on("touchend.ap",function(k){f=!1}).on("click.ap-touchclick",function(k){if(e)return e=!1})}function yd(a){var b=0;for(b;b<D;b++)if(b<D-2){var c=Za[b];var d=Za[b+1];if(a>=c&&a<=d){q=b;break}}else if(b==D-1&&(c=
Za[b],a>=c)){q=b;break}}function pe(){var a,b,c,d,e,f=!1;S.off("touchstart.ap touchmove.ap touchend.ap click.ap-touchclick").on("touchstart.ap",function(k){if(!w||F||Qb)return!1;if(!kc)return!0;k=k.originalEvent.touches[0];a=S.position().left;b=S.position().top;c=k.pageX;d=k.pageY;e=!1;f=!0}).on("touchmove.ap",function(k){if(f){k=k.originalEvent.touches[0];if("horizontal"==Wa){var h=a-c+k.pageX,n=Q,t=S.width();0<h?(h=0,$a("off")):$a("on");h<n-t?(h=n-t,ab("off")):ab("on");yd(Math.abs(h));S.css("left",
h+"px")}else h=b-d+k.pageY,n=Q,t=S.height(),0<h?(h=0,$a("off")):$a("on"),h<n-t?(h=n-t,ab("off")):ab("on"),yd(Math.abs(h)),S.css("top",h+"px");e=e||5<Math.abs(c-k.pageX)||5<Math.abs(d-k.pageY);return!1}}).on("touchend.ap",function(k){f=!1}).on("click.ap-touchclick",function(k){if(e)return e=!1})}function zd(a){var b=a.length,c="",d=0;for(d;d<b;d++){var e=a.charAt(d).toLowerCase();"\\"==e&&(e="/");var f=e.charCodeAt(0);if(97<=f&&122>=f||48<=f&&57>=f||0<="_-".indexOf(e))c+=e}return c}function qe(){E||
(hb&&clearInterval(hb),xa&&clearTimeout(xa),Rb(lc))}function re(){xa&&clearTimeout(xa);Rb(lc)}function Jc(a){a.stopPropagation();Rb(a)}function Kc(a){a.stopPropagation();lc=a;E?(xa&&clearTimeout(xa),hb&&clearInterval(hb),"KEN_BURNS"!=B?hb=setInterval(qe,100):Rb(lc)):Lc?(xa&&clearTimeout(xa),xa=setTimeout(re,500)):"/"==a.value?(g.address.history(!1),g.address.value(mc),g.address.history()||g.address.history(!0)):Mc(a.value)?(g.address.history(!1),g.address.value(mc),g.address.history()||g.address.history(!0)):
Rb(a)}function Rb(a){a.stopPropagation();Z();ya&&clearInterval(ya);Lc||(Lc=!0);if("/"==a.value&&(g.address.history(!1),!Mc(mc))){g.address.value(mc);g.address.history()||g.address.history(!0);return}Ea=a.value;"/"==Ea.charAt(0)&&(Ea=Ea.substring(1));"/"==Ea.charAt(Ea.length-1)&&(Ea=Ea.substring(0,Ea.length-1));if(!Ad(Ea))return g.address.history(!1),!1;void 0!=nc&&nc==u||ib();v()!=Ab?(T=Ab,Sb(v())):(Bb(),Fa())}function Ad(a){a=a.split("/");var b=a[0],c=a[1],d=!1,e=!1,f=0;1==a.length&&(Ab=0,e=!0);
for(f;f<D;f++)if(jb[f].categoryName==b){u=f;d=!0;break}if(!d)return!1;if(!e)for(f=0,a=jb[u].mediaName,b=a.length,f;f<b;f++)if(a[f]==c){Ab=f;e=!0;break}return d&&e?!0:!1}function bb(a){return jb[u].categoryName+"/"+jb[u].mediaName[a]}function oc(){if("horizontal"==Wa){var a=za?l("w"):U.width();a+=N;y=za?Math.floor((a-Bd)/(ea+N)):Math.floor(a/(ea+N));!Nc&&y>kb?y=kb:y>x?y=x:y<pc&&(y=pc);P=y*ea+(y-1)*N;za&&U.css("width",P+"px");a=-(x*ea+(x-1)*N)+P;parseInt(R.css("left"),10)<a&&R.css("left",a+"px")}else a=
za?l("h"):U.height(),a+=N,y=za?Math.floor((a-Bd)/(Oa+N)):Math.floor(a/(Oa+N)),!Nc&&y>kb?y=kb:y>x?y=x:y<pc&&(y=pc),P=y*Oa+(y-1)*N,za&&U.css("height",P+"px"),a=-(x*Oa+(x-1)*N)+P,parseInt(R.css("top"),10)<a&&R.css("top",a+"px");C+y>x-1&&(C=x-y);Oc();za&&("horizontal"==Wa?(qc?(a=parseInt(U.css("left"),10),"left"==Cb?(U.css("left",rc+"px"),M.css(Cb,a-M.width()-ia+"px"),pa.css(Cb,a+P+ia+"px")):(U.css("right",rc+"px"),pa.css(Cb,a-M.width()-ia+"px"),M.css(Cb,a+P+ia+"px"))):(a=r.width()/2,U.css("left",a-P/
2+"px"),M.css("left",a-P/2-M.width()-ia+"px"),pa.css("left",a+P/2+ia+"px")),a=parseInt(U.css("top"),10),M.css("top",a+Oa/2-M.height()/2+"px"),pa.css("top",a+Oa/2-pa.height()/2+"px")):(qc?"top"==Cb?(U.css("top",rc+"px"),a=parseInt(U.css("top"),10),M.css("top",a-M.height()-ia+"px"),pa.css("top",a+P+ia+"px")):(U.css("bottom",rc+"px"),a=parseInt(U.css("bottom"),10),pa.css("bottom",a-M.height()-ia+"px"),M.css("bottom",a+P+ia+"px")):(a=r.height()/2,U.css("top",a-P/2+"px"),M.css("top",a-P/2-M.height()-ia+
"px"),pa.css("top",a+P/2+ia+"px")),a=parseInt(U.css("left"),10),M.css("left",a+ea/2-M.width()/2+"px"),pa.css("left",a+ea/2-M.width()/2+"px")))}function Pc(){if(za&&!Qc){if("top"==W){var a=ja?-r.height()+"px":"0px";r.stop().animate({top:a},{duration:500,easing:"easeOutQuint"})}else"bottom"==W?(a=ja?l("h")+"px":l("h")-r.height()+"px",r.stop().animate({top:a},{duration:500,easing:"easeOutQuint"})):"left"==W?(a=ja?-r.width()+"px":"0px",r.stop().animate({left:a},{duration:500,easing:"easeOutQuint"})):
"right"==W&&(side="left",a=ja?l("w")+"px":l("w")-r.width()+"px",r.stop().animate({left:a},{duration:500,easing:"easeOutQuint"}));ja?(lb.children("img").attr("src","assets/media/data/gallery_icons/plus.png"),ja=!1):(lb.children("img").attr("src","assets/media/data/gallery_icons/minus.png"),ja=!0)}}function sc(){za&&("top"==W?"inside"==qa?ja?r.css("top","0px"):r.css("top",-r.height()+"px"):(r.css("top","0px"),J.css("top",r.height()+"px")):"bottom"==W?"inside"==qa&&(ja?r.css("top",l("h")-r.height()+"px"):r.css("top",
l("h")+"px")):"left"==W?"inside"==qa?ja?r.css("left","0px"):r.css("left",-r.width()+"px"):(r.css("left","0px"),J.css("left",r.width()+"px")):"right"==W&&("inside"==qa?ja?r.css("left",l("w")-r.width()+"px"):r.css("left",l("w")+"px"):r.css("left",l("w")+"px")))}function Cd(a){if(w&&!F&&!Rc){Rc=!0;a||(a=window.event);a.cancelBubble?a.cancelBubble=!0:a.stopPropagation&&a.stopPropagation();a=g(a.currentTarget).attr("data-id");if("prevThumbBtn"==a){if(0==C)return;C-=y}else if("nextThumbBtn"==a){if(C==x-
y)return;C+=y}Dd();return!1}}function Dd(){0>C?C=0:C>x-y&&(C=x-y);if("horizontal"==Wa){var a=C*ea+C*N;R.stop().animate({left:-a+"px"},{duration:500,easing:"easeOutQuint",complete:function(){Oc()}})}else a=C*Oa+C*N,R.stop().animate({top:-a+"px"},{duration:500,easing:"easeOutQuint",complete:function(){Oc()}})}function Xa(a){M&&("off"==a?M.css("display","none"):M.css("display","block"))}function Ya(a){pa&&("off"==a?pa.css("display","none"):pa.css("display","block"))}function Oc(){x<=y?(Xa("off"),Ya("off"),
jc=!1):(Xa("on"),Ya("on"),jc=!0,0==C?Xa("off"):Xa("on"),C+y==x?Ya("off"):Ya("on"),Rc=F=!1)}function se(a){if(!w||F||"KEN_BURNS"!=B&&E)return!1;a||(a=window.event);a.cancelBubble?a.cancelBubble=!0:a.stopPropagation&&a.stopPropagation();a=g(a.currentTarget).attr("data-id");if(a!=u)return F=!0,Sc(),u=a,aa?(g.address.value(bb(0)),g.address.history()||g.address.history(!0)):ib(),!1}function te(a){if(w)return a||(a=window.event),a.cancelBubble?a.cancelBubble=!0:a.stopPropagation&&a.stopPropagation(),a=
g(a.currentTarget),a.attr("data-id"),a.stop().animate({opacity:1},{duration:500,easing:"easeOutSine"}),!1}function ue(a){if(w&&(a||(a=window.event),a.cancelBubble?a.cancelBubble=!0:a.stopPropagation&&a.stopPropagation(),a=g(a.currentTarget),a.attr("data-id")!=u))return a.stop().animate({opacity:Tc},{duration:500,easing:"easeOutSine"}),!1}function Sc(){Uc&&Uc.stop().animate({opacity:Tc},{duration:500,easing:"easeOutSine"}).css("cursor","pointer")}function Ed(){var a=Vc[u];a&&(a.stop().animate({opacity:1},
{duration:500,easing:"easeOutSine"}).css("cursor","default"),Uc=a)}function X(a,b){var c=0;for(a;a<b;a++)c+=tc[a]+mb;return c-=mb}function ve(){var a="horizontal"==Pa?l("w")-uc:l("h")-uc;var b=0,c=q;ba=q;var d=!0;a:for(;b<a;){ba--;if(!Tb&&c-ba>Qa){ba=c-Qa;d=!1;b=X(ba,c);break a}if(0>ba){ba=0;d=!1;b=X(ba,c);for(var e=!0;b<a;){c++;if(!Tb&&c>Qa){c=Qa;e=!1;b=X(0,c);break a}if(c>D){c=D;e=!1;b=X(0,c);break a}b=X(0,c)}e&&(c--,b=X(ba,c));break a}b=X(ba,c)}d&&(ba++,b=X(ba,c));a=Za[ba];"horizontal"==Pa?(Q=
b,G.css("width",Q+"px"),cb?G.css(fa,ra+"px"):G.css("left",r.width()/2-Q/2+"px"),S.stop().animate({left:-a+"px"},{duration:500,easing:"easeOutQuint",complete:function(){Db()}})):(Q=b,G.css("height",Q+"px"),cb?G.css(fa,ra+"px"):G.css("top",r.height()/2-Q/2+"px"),S.stop().animate({top:-a+"px"},{duration:500,easing:"easeOutQuint",complete:function(){Db()}}));Ga=c-ba;Fd()}function Ub(){var a="horizontal"==Pa?l("w")-uc:l("h")-uc;var b=0,c=q,d=!0;a:for(;b<a;){c++;if(!Tb&&c-q>Qa){c=q+Qa;d=!1;b=X(q,c);break a}if(c>
D){c=D;d=!1;b=X(q,c);for(var e=!0;b<a;){q--;if(!Tb&&c-q>Qa){q=c-Qa;e=!1;b=X(q,D);break a}if(0>q){q=0;e=!1;b=X(0,D);break a}b=X(q,D)}e&&(q++,b=X(q,c));break a}b=X(q,c)}d&&(c--,b=X(q,c));a=Za[q];Ga=c-q;"horizontal"==Pa?(Q=b,G.css("width",Q+"px"),cb?G.css(fa,ra+"px"):G.css("left",r.width()/2-Q/2+"px"),S.stop().animate({left:-a+"px"},{duration:500,easing:"easeOutQuint",complete:function(){Db()}})):(Q=b,G.css("height",Q+"px"),cb?G.css(fa,ra+"px"):G.css("top",r.height()/2-Q/2+"px"),S.stop().animate({top:-a+
"px"},{duration:500,easing:"easeOutQuint",complete:function(){Db()}}));Fd()}function Fd(){if("horizontal"==Pa){var a=parseInt(G.css("top"),10);K.css("top",a+nb/2-K.height()/2+"px");Aa.css("top",a+nb/2-K.height()/2+"px");cb?"left"==fa?(K.css(fa,ra-K.width()-ka+"px"),Aa.css(fa,ra+parseInt(G.css("width"),10)+ka+"px")):(Aa.css(fa,ra-K.width()-ka+"px"),K.css(fa,ra+parseInt(G.css("width"),10)+ka+"px")):(a=r.width()/2,K.css("left",a-Q/2-K.width()-ka+"px"),Aa.css("left",a+Q/2+ka+"px"))}else a=parseInt(G.css("left"),
10),K.css("left",a+Vb/2-K.width()/2+"px"),Aa.css("left",a+Vb/2-K.width()/2+"px"),cb?"top"==fa?(K.css(fa,ra-K.height()-ka+"px"),Aa.css(fa,ra+parseInt(G.css("height"),10)+ka+"px")):(Aa.css(fa,ra-K.height()-ka+"px"),K.css(fa,ra+parseInt(G.css("height"),10)+ka+"px")):(a=r.height()/2,K.css("top",a-Q/2-K.height()-ka+"px"),Aa.css("top",a+Q/2+ka+"px"))}function Gd(a){if(w&&!Qb){a||(a=window.event);a.cancelBubble?a.cancelBubble=!0:a.stopPropagation&&a.stopPropagation();a=g(a.currentTarget).attr("data-id");
if("prevMenuBtn"==a){if(0==q)return;Qb=!0;ve();q=ba;0>q&&(q=0)}else if("nextMenuBtn"==a){if(q==D-Ga)return;Qb=!0;q+=Ga;q>D-1&&(q=D-1);Ub()}return!1}}function we(){0>q?q=0:q>D-Ga&&(q=D-Ga);var a=Za[q];a&&("horizontal"==Pa?S.stop().animate({left:-a+"px"},{duration:500,easing:"easeOutQuint",complete:function(){Db()}}):S.stop().animate({top:-a+"px"},{duration:500,easing:"easeOutQuint",complete:function(){Db()}}))}function $a(a){"off"==a?K.css("display","none"):K.css("display","block")}function ab(a){"off"==
a?Aa.css("display","none"):Aa.css("display","block")}function Db(){D<=Ga?($a("off"),ab("off"),kc=!1):($a("on"),ab("on"),kc=!0,0==q?$a("off"):$a("on"),q+Ga==D?ab("off"):ab("on"),Qb=!1)}function ib(){hb&&clearInterval(hb);xa&&clearTimeout(xa);Z();ya&&clearInterval(ya);ob();ha=!1;la&&(la.remove(),la=null);kc=jc=!1;pb&&(pb.css("opacity",vc).find("a").css("cursor","pointer"),pb=null);Sc();var a=0,b;for(a;a<x;a++)if(b=g(wc[a]))b.off("click",Hd),ca||b.off("mouseover",Id).off("mouseout",Jd);wc=[];"horizontal"==
Wa?R.css("left","0px"):R.css("top","0px");ma&&ma.css("display","none");Ra.stop().empty();db.stop().empty();Ra.css({zIndex:0,opacity:1,background:"none",overflow:"visible",display:"none"});db.css({zIndex:1,opacity:1,background:"none",overflow:"visible",display:"none"});J.css("background","none");F=!1;nc=u;C=0;Sa=sa=ta=!1;Y=[];pb=null;ma=g(xc[u]).css("display","block");Y=ma.find("ul").children("li");ea=Y.outerWidth();Oa=Y.outerHeight();a=parseInt(ma.attr("data-playlistSize"),10);"left"==W||"right"==
W?(r.css("width",a+"px"),"outside"==qa&&J.css("width",l("w")+"px")):(r.css("height",a+"px"),"outside"==qa&&J.css("height",l("h")+"px"));x=Y.length;kb>x&&(kb=x);if(Kd){a=x;b=[];var c=[],d=0;for(d;d<a;d++)b[d]=d;d=0;for(d;d<a;d++){var e=Math.round(Math.random()*(b.length-1));c[d]=b[e];b.splice(e,1)}Ld=c}"horizontal"==Wa?(za&&U.css("height",Oa+"px"),N=parseInt(g(Y[0]).css("marginRight"),10),g(Y[x-1]).css("marginRight","0px")):(za&&U.css("width",ea+"px"),N=parseInt(g(Y[0]).css("marginBottom"),10));B=
ma.attr("data-transitionType").toUpperCase();"SLIDE"!=B&&"SPLIT"!=B&&"REVEAL"!=B&&"KEN_BURNS"!=B&&"ALPHA"!=B&&"ZOOM"!=B&&(alert("Invalid transitionType on category number: "+u),"ALPHA"==B);"KEN_BURNS"!=B&&(a=ma.attr("data-imageFitMode"),"fit-inside"!=a&&"fit-outside"!=a?(alert("Invalid imageFitMode on category number: "+u),"fit-outside"==a):"fit-inside"==a?ua=!0:ua=!1,z=ma.attr("data-transitionEase"),A=parseInt(ma.attr("data-transitionTime"),10));"horizontal"==Wa&&R.css("width",x*ea+(x-1)*N+"px");
void 0!=ma.attr("data-bgColor")&&(V=ma.attr("data-bgColor"));a=0;for(a;a<x;a++){b=g(Y[a]).attr("data-id",a).css("opacity",vc).on("click",Hd);if(!ca)b.on("mouseover",Id).on("mouseout",Jd);wc.push(b)}u>=q&&u<=q+Ga-1||(q=u,we());Ed();Na&&gb&&(gb=!1,oa.playAudio());if(Md)sc(),oc();else{sc();oc();if(!Wb){K=p.find(".prevMenuBtn").css({display:"none",cursor:"pointer"}).attr("data-id","prevMenuBtn").on(na,Gd);Aa=p.find(".nextMenuBtn").css({display:"none",cursor:"pointer"}).attr("data-id","nextMenuBtn").on(na,
Gd);a=g("<div/>").addClass("menu_item").appendTo(S);mb="horizontal"==Pa?parseInt(a.css("marginRight"),10):parseInt(a.css("marginBottom"),10);d=a=0;b=g("<div/>").addClass("fontMeasure").appendTo(p);for(a;a<D;a++){c=g("<div/>").html(Nd[a]).addClass("menu_item").appendTo(b);"horizontal"==Pa?(c.css({left:d+a*mb+"px",top:"0px"}),d+=c.width(),tc.push(c.outerWidth()),Za.push(parseInt(c.css("left"),10))):(c.css({top:d+a*mb+"px",left:0}),d+=c.height(),tc.push(c.outerHeight()),Za.push(parseInt(c.css("top"),
10)));c.css("width",c.width()+1+"px");nb<c.height()&&(nb=c.height());Vb<c.width()&&(Vb=c.width());c.appendTo(S).attr("data-id",a).on("click",se).css({cursor:"pointer",opacity:Tc});if(!ca)c.on("mouseover",te).on("mouseout",ue);Vc.push(c)}c=a=0;for(a;a<D;a++)c+=tc[a]+mb;c-=mb;xe(Vc);"horizontal"==Pa?(G.css("height",nb+"px"),S.css({width:c+"px",height:nb+"px"}),parseInt(G.css("height"),10)):(G.css("width",Vb+"px"),S.css({height:c+"px",width:nb+"px"}),parseInt(G.css("width"),10));b.remove();Ub();Ed()}Qc||
r.css("display","block");Md=!0}Wb||Ub();aa||(T=0,Sb(v()))}function Hd(a){if(!w||sa||"KEN_BURNS"!=B&&E)return!1;a||(a=window.event);a.cancelBubble?a.cancelBubble=!0:a.stopPropagation&&a.stopPropagation();a=g(a.currentTarget).attr("data-id");if(a==v())return!1;Xb=!0;ob();aa?(qb(),T=a,g.address.value(bb(v())),g.address.history()||g.address.history(!0)):Sb(a);return!1}function Id(a){if(!w)return!1;a||(a=window.event);a.cancelBubble?a.cancelBubble=!0:a.stopPropagation&&a.stopPropagation();a=g(a.currentTarget);
a.attr("data-id");a.stop().animate({opacity:1},{duration:500,easing:"easeOutSine"});return!1}function Jd(a){if(!w)return!1;a||(a=window.event);a.cancelBubble?a.cancelBubble=!0:a.stopPropagation&&a.stopPropagation();a=g(a.currentTarget);if(a.attr("data-id")==v())return!1;a.stop().animate({opacity:vc},{duration:500,easing:"easeOutSine"}).find("a").css("cursor","pointer");return!1}function qb(){pb&&pb.stop().animate({opacity:vc},{duration:500,easing:"easeOutSine"}).find("a").css("cursor","pointer")}
function Bb(){var a=wc[v()];a&&(a.stop().animate({opacity:1},{duration:500,easing:"easeOutSine"}).find("a").css("cursor","default"),pb=a);a=v();a>=C&&a<=C+y-1||(C=a,Dd())}function Od(a){if(!F){yc=!0;var b=g(Y[a]);var c,d,e=eb[u].main;a=g(new Image).attr("id",a).css({top:0,left:0,display:"block"});"SLIDE"==B||"SPLIT"==B||"REVEAL"==B?a.css("position","absolute"):("KEN_BURNS"==B||"ALPHA"==B||"ZOOM"==B)&&a.css({position:"relative",width:"100%",height:"100%"});b=b.attr("data-imagePath");a.on("load",function(){c=
g(this);d=parseInt(c.attr("id"),10);this.origWidth=this.width;this.origHeight=this.height;e[d]=c;yc=!1;sa?(sa=!1,w?Fa():setTimeout(function(){Fa()},800)):Sb(v());w||(w=!0,"undefined"!==typeof multiGallerySetupDone&&multiGallerySetupDone(),"inside"==qa&&ye&&setTimeout(function(){sc();oc();Wb||Ub();Pc()},500),Na&&H.autoOpenAudioPlayer&&Wc())}).attr("src",b);a.on("error",function(f){})}}function Eb(){sa=!0;yc?(ya&&clearInterval(ya),ya=setInterval(ze,Ae)):Od(v())}function ze(){yc||(ya&&clearInterval(ya),
Pd[v()]?(sa=!1,Fa()):Od(v()))}function Fa(a){switch(B){case "SLIDE":Be();break;case "SPLIT":Ce();break;case "REVEAL":De();break;case "KEN_BURNS":a||(Xc=Yc=!1);Ee();break;case "ALPHA":Fe();break;case "ZOOM":Ge()}}function Be(){E=!0;var a=eb[u].main;if(a[v()]){a=a[v()];var b=a[0].origWidth,c=a[0].origHeight,d=l("w"),e=l("h");currentHolder=Ba(!0).css("display","block");if(Ha||b>d||c>e)c=Ia(J,b,c,ua),b=c.width,c=c.height;void 0!=V&&(Ra.css("background",V),db.css("background",V));Fb([a]);a.css({width:b+
"px",height:c+"px",left:d/2-b/2+"px",top:e/2-c/2+"px"});currentHolder.css({width:d+"px",height:e+"px",overflow:"hidden"});Gb();ta?(Zc=$c(He),Ie(currentHolder),currentHolder.append(a),a=rb(currentHolder),Je(currentHolder,a)):currentHolder.css({left:"0px",top:"0px",opacity:0}).append(a).stop().animate({opacity:1},{duration:ad,easing:bd,complete:function(){L()}});ta=!0}else sb(),Eb()}function Ie(a){switch(Zc){case "top":a.css({left:0,top:-l("h")+"px"});break;case "left":a.css({left:-l("w")+"px",top:0});
break;case "bottom":a.css({left:0,top:l("h")+"px"});break;case "right":a.css({left:l("w")+"px",top:0})}}function Je(a,b){switch(Zc){case "top":a.stop().animate({top:0},{duration:A,easing:z});b.stop().animate({top:l("h")},{duration:A,easing:z,complete:function(){L(b)}});break;case "bottom":a.stop().animate({top:0},{duration:A,easing:z});b.stop().animate({top:-l("h")},{duration:A,easing:z,complete:function(){L(b)}});break;case "left":a.stop().animate({left:0},{duration:A,easing:z});b.stop().animate({left:l("w")},
{duration:A,easing:z,complete:function(){L(b)}});break;case "right":a.stop().animate({left:0},{duration:A,easing:z}),b.stop().animate({left:-l("w")},{duration:A,easing:z,complete:function(){L(b)}})}}function Ce(){E=!0;var a=eb[u].main;if(a[v()]){var b=a[v()],c=l("w"),d=l("h"),e=b.clone(),f=b[0].origWidth,k=b[0].origHeight;a=Ba(!0).css("display","block");if(Ha||f>c||k>d)k=Ia(J,f,k,ua),f=k.width,k=k.height;Fb([b,e]);b.css({width:f+"px",height:k+"px",left:c/2-f/2+"px",top:d/2-k/2+"px"});e.css({width:f+
"px",height:k+"px"});a.css({width:c+"px",height:d+"px",left:"0px",top:"0px",overflow:"hidden"});da=$c(Ke);a.splitCase=da;Le(b,e,a,f,k);Gb();ta?(b=rb(a).css("display","block"),cd(b,a),Me(b)):a.css("opacity",0).stop().animate({opacity:1},{duration:ad,easing:bd,complete:function(){L()}});ta=!0}else sb(),Eb()}function Le(a,b,c,d,e){var f=l("w"),k=l("h");if("horizontalUpLeft"==da||"horizontalUpRight"==da||"horizontalSplit"==da)g("<div/>").attr("data-title","split1").css({background:V,position:"absolute",
top:0,left:0,width:f+"px",height:k/2+"px",overflow:"hidden"}).append(a).appendTo(c),g("<div/>").attr("data-title","split2").css({background:V,position:"absolute",top:k/2+"px",left:0,width:f+"px",height:k/2+"px",overflow:"hidden"}).append(b).appendTo(c),b.css({left:f/2-d/2+"px",top:-k/2+(k-e)/2+"px"});else if("verticalUpLeft"==da||"verticalDownLeft"==da||"verticalSplit"==da)g("<div/>").attr("data-title","split1").css({background:V,position:"absolute",top:0,left:0,width:f/2+"px",height:k+"px",overflow:"hidden"}).append(a).appendTo(c),
g("<div/>").attr("data-title","split2").css({background:V,position:"absolute",top:0,left:f/2+"px",width:f/2+"px",height:k+"px",overflow:"hidden"}).append(b).appendTo(c),b.css({left:-d/2+"px",top:k/2-e/2+"px"})}function Me(a){da=a.splitCase;var b=g(a.children("div[data-title=split1]")),c=g(a.children("div[data-title=split2]")),d=l("w"),e=l("h");"horizontalUpLeft"==da?(b.stop().animate({left:-d+"px"},{duration:A,easing:z}),c.stop().animate({left:d+"px"},{duration:A,easing:z,complete:function(){L(a)}})):
"horizontalUpRight"==da?(b.stop().animate({left:d+"px"},{duration:A,easing:z}),c.stop().animate({left:-d+"px"},{duration:A,easing:z,complete:function(){L(a)}})):"horizontalSplit"==da?(b.stop().animate({top:-e/2+"px"},{duration:A,easing:z}),c.stop().animate({top:e+"px"},{duration:A,easing:z,complete:function(){L(a)}})):"verticalUpLeft"==da?(b.stop().animate({top:-e+"px"},{duration:A,easing:z}),c.stop().animate({top:e+"px"},{duration:A,easing:z,complete:function(){L(a)}})):"verticalDownLeft"==da?(b.stop().animate({top:e+
"px"},{duration:A,easing:z}),c.stop().animate({top:-e+"px"},{duration:A,easing:z,complete:function(){L(a)}})):"verticalSplit"==da&&(b.stop().animate({left:-d/2+"px"},{duration:A,easing:z}),c.stop().animate({left:d+"px"},{duration:A,easing:z,complete:function(){L(a)}}))}function De(){E=!0;var a=eb[u].main;if(a[v()]){a=a[v()];var b=a[0].origWidth,c=a[0].origHeight,d=Ba(!0).css("display","block"),e=l("w"),f=l("h");if(Ha||b>f||c>f)c=Ia(J,b,c,ua),b=c.width,c=c.height;void 0!=V&&(Ra.css("background",V),
db.css("background",V));Fb([a]);a.css({width:b+"px",height:c+"px",left:e/2-b/2+"px",top:f/2-c/2+"px"});d.css({overflow:"hidden",width:e+"px",height:f+"px",left:"0px",top:"0px"});Gb();ta?(Yb=$c(Ne),b=rb(d),cd(b,d),d.append(a),Oe(b)):d.css("opacity",0).append(a).stop().animate({opacity:1},{duration:ad,easing:bd,complete:function(){L()}});ta=!0}else sb(),Eb()}function Oe(a){"top"==Yb?a.stop().animate({top:-l("h")+"px"},{duration:A,easing:z,complete:function(){L(a)}}):"bottom"==Yb?a.stop().animate({top:l("h")+
"px"},{duration:A,easing:z,complete:function(){L(a)}}):"right"==Yb?a.stop().animate({left:l("w")+"px"},{duration:A,easing:z,complete:function(){L(a)}}):"left"==Yb&&a.stop().animate({left:-l("w")+"px"},{duration:A,easing:z,complete:function(){L(a)}})}function Fe(){E=!0;var a=eb[u].main;if(a[v()]){a=a[v()];var b=a[0].origWidth,c=a[0].origHeight,d=Ba(!0).css({display:"block",opacity:0}),e=l("w"),f=l("h");if(Ha||b>e||c>f)c=Ia(J,b,c,ua),b=c.width,c=c.height;void 0!=V&&J.css("background",V);Fb([a]);a.css({width:b+
"px",height:c+"px",left:e/2-b/2+"px",top:f/2-c/2+"px"});d.css({overflow:"hidden",width:e+"px",height:f+"px",left:"0px",top:"0px"}).append(a);Gb();if(ta){var k=rb(d).stop().animate({opacity:0},{duration:A,easing:z,complete:function(){L(k)}});d.stop().animate({opacity:1},{duration:A,easing:z})}else d.stop().animate({opacity:1},{duration:A,easing:z,complete:function(){L()}});ta=!0}else sb(),Eb()}function Ge(){E=!0;var a=eb[u].main;if(a[v()]){a=a[v()];var b=a[0].origWidth,c=a[0].origHeight,d=l("w"),e=
l("h");if(Ha||b>d||c>e)c=Ia(J,b,c,ua),b=c.width,c=c.height;void 0!=V&&J.css("background",V);Fb([a]);var f=Ba(!0).css("display","block"),k=rb(f);cd(f,k);f.css({width:d+"px",height:e+"px",left:0,top:0,overflow:"hidden"}).append(a);a.css({left:Math.random()*d+"px",top:Math.random()*e+"px",width:"0px",height:"0px"});Gb();ta?a.animate({width:b+"px",height:c+"px",left:l("w")/2-b/2+"px",top:l("h")/2-c/2+"px"},{duration:A,easing:z,complete:function(){L(k)}}):a.animate({width:b+"px",height:c+"px",left:l("w")/
2-b/2+"px",top:l("h")/2-c/2+"px"},{duration:A,easing:z,complete:function(){L()}});ta=!0}else sb(),Eb()}function L(a){F||(a&&a.empty().css("display","none"),E=!1,Qd(),Xb=!1,O&&!ha&&(I.children("img")&&I.children("img").attr("src","assets/media/data/gallery_icons/pause.png"),zc(),Zb()))}function Ee(){Sa=E=!0;var a=eb[u].main;if(a[v()]){var b=a[v()],c=l("w"),d=l("h"),e=b[0].origWidth,f=b[0].origHeight;a=g(Y[v()]);var k=!1,h=parseFloat(a.attr("data-startScale"));if(isNaN(h)||0==h)h=1;var n=parseFloat(a.attr("data-endScale"));
if(isNaN(n)||0==n)n=1.5;h<n&&(k=!0);var t=a.attr("data-startPosition").toLowerCase();if(Rd(t)||!Sd(t,$b))t=dd($b);var Ta=a.attr("data-endPosition").toLowerCase();if(Rd(Ta)||!Sd(Ta,$b))for(Ta=dd($b);Ta==t;)Ta=dd($b);Hb?(a=rb(Hb),Hb.css("zIndex",0),a.css("zIndex",1)):a=Ba(!0);a.css({opacity:Yc?1:0,display:"block"}).append(b);void 0!=V&&J.css("background",V);Fb([b]);k?(h*=c,h<c&&(h=c),k=f/e*h,k<d&&(k=d,h=e/f*k),b=c*n,b<c&&(b=c),n=f/e*b,n<d&&(n=d,b=e/f*n)):(b=c*n,b<c&&(b=c),n=f/e*b,n<d&&(n=d,b=e/f*n),
h*=c,h<=b&&(h=1.5*b),k=f/e*h,k<d&&(k=d,h=e/f*k));a.css({width:h+"px",height:k+"px"});var Ja;e=a.width();f=a.height();switch(t){case "tl":var Ua=Ja=0;break;case "tc":Ja=c/2-e/2;Ua=0;break;case "tr":Ja=c-e;Ua=0;break;case "ml":Ja=0;Ua=d/2-f/2;break;case "mc":Ja=c/2-e/2;Ua=d/2-f/2;break;case "mr":Ja=c-e;Ua=d/2-f/2;break;case "bl":Ja=0;Ua=d-f;break;case "bc":Ja=c/2-e/2;Ua=d-f;break;case "br":Ja=c-e,Ua=d-f}c=b;d=n;t=Pe(Ta,c,d);Ta=t.x;t=t.y;a.css({left:Ja+"px",top:Ua+"px"});xb=Ta;yb=t;wd=c;xd=d;Gb();O&&
I.children("img")&&I.children("img").attr("src","assets/media/data/gallery_icons/pause.png");zc();a.stop().animate({opacity:1},{duration:ed,easing:"easeOutSine",queue:!1,complete:function(){rb(g(this)).stop().empty().css("display","none");Xc||Qd();Xc=!0;Xb=Sa=!1;!O&&E?Ac():fd&&Ac()}});Hb=a;O?(Zb(),a.animate({left:Ta+"px",top:t+"px",width:c+"px",height:d+"px"},{duration:Ka+ed,easing:"linear",queue:!1,complete:function(){}})):E=!1;Yc=!0}else sb(),Eb()}function Ac(){if(!w||F||Sa)return!1;Hb.stop();Z();E=!1}
function Td(){if(!w||F||Sa)return!1;Zb();Hb.animate({left:xb+"px",top:yb+"px",width:wd+"px",height:xd+"px"},{duration:Ka+ed,easing:"linear",queue:!1,complete:function(){O&&g(this).empty().css("display","none")}});E=!0}function Pe(a,b,c){var d={},e=l("w"),f=l("h");switch(a){case "tl":d.x=0;d.y=0;break;case "tc":d.x=e/2-b/2;d.y=0;break;case "tr":d.x=e-b;d.y=0;break;case "ml":d.x=0;d.y=f/2-c/2;break;case "mc":d.x=e/2-b/2;d.y=f/2-c/2;break;case "mr":d.x=e-b;d.y=f/2-c/2;break;case "bl":d.x=0;d.y=f-c;break;
case "bc":d.x=e/2-b/2;d.y=f-c;break;case "br":d.x=e-b,d.y=f-c}return d}function rb(a){return"_holder1"==a.attr("data-title")?db:Ra}function cd(a,b){a.css("zIndex",1);b.css("zIndex",0)}function Ba(a){var b=Ra.children().length;return a?0<b?db:Ra:0<b?Ra:db}function Ia(a,b,c,d){a={};var e=l("w"),f=l("h"),k=(e-0)/(f-0),h=b/c;h<k?d?(a.width=(f-0)/c*b,a.height=f-0):(a.height=(e-0)/b*c,a.width=e-0):h>k?d?(a.height=(e-0)/b*c,a.width=e-0):(a.width=(f-0)/c*b,a.height=f-0):(a.width=e-0,a.height=f-0);return a}
function Rd(a){var b=!1;""==a.replace(/\s/g,"")&&(b=!0);return b}function $c(a){var b=a.splice(Math.floor(Math.random()*(a.length-1)),1)[0];a.push(b);return b}function dd(a){return a[Math.round(Math.random()*(a.length-1))]}function Sd(a,b){var c=0,d=b.length;for(c;c<d;c++){var e=b[c];if(a==e){var f=!0;break}}return f}function Ud(a){ha&&(O||(O=!0),ha=!1);O?(Z(),O=!1,ca?I.children("img")&&I.children("img").attr("src","assets/media/data/gallery_icons/play.png"):I.children("img")&&I.children("img").attr("src",
a?"assets/media/data/gallery_icons/play_on.png":"assets/media/data/gallery_icons/play.png"),"KEN_BURNS"==B&&E&&Ac()):(O=!0,ca?I.children("img")&&I.children("img").attr("src","assets/media/data/gallery_icons/pause.png"):I.children("img")&&I.children("img").attr("src",a?"assets/media/data/gallery_icons/pause_on.png":"assets/media/data/gallery_icons/pause.png"),Ka||zc(),"KEN_BURNS"!=B?E||Zb():E||Td())}function Pb(a){a?(O=!0,I.children("img")&&I.children("img").attr("src","assets/media/data/gallery_icons/pause.png"),Ka||zc(),"KEN_BURNS"!=B?E||
Zb():E||Td()):(Z(),O=!1,I.children("img")&&I.children("img").attr("src","assets/media/data/gallery_icons/play.png"),"KEN_BURNS"==B&&E&&Ac())}function Z(){ac&&clearTimeout(ac);fb.length&&fb.stop();Ka&&(Vd=(new Date).getTime()-Wd,Ka-=Vd)}function Zb(){ac&&clearTimeout(ac);Wd=(new Date).getTime();ac=setTimeout(gd,Ka);if(fb.length){var a=l("w");fb.stop().animate({width:a+"px"},{duration:Ka,easing:"linear"})}}function zc(){if(Qe)var a=void 0!=ma.attr("data-duration")?parseFloat(ma.attr("data-duration"),10):0<
Bc?Bc:3E3;else a=g(Y[v()]),a=void 0!=a.attr("data-duration")?parseFloat(a.attr("data-duration"),10):0<Bc?Bc:3E3;Ka=a}function v(){return Kd?Xb?T:Ld[T]:T}function xe(a){g(a).each(function(){g(this).attr("unselectable","on").css({"-moz-user-select":"none","-webkit-user-select":"none","user-select":"none"}).each(function(){this.onselectstart=function(){return!1}})})}function sb(){bc.css({opacity:0,display:"block"}).stop().animate({opacity:1},{duration:500,easing:"easeOutSine"})}function Gb(){bc.stop().animate({opacity:0},
{duration:500,easing:"easeOutSine",complete:function(){bc.css("display","none")}})}function Mc(a){return 0==a.replace(/^\s+|\s+$/g,"").length}function va(a){w&&(a||(a=window.event),a.cancelBubble?a.cancelBubble=!0:a.stopPropagation&&a.stopPropagation(),a=g(a.currentTarget).attr("class"),"music_toggle"==a?cc.children("img").attr("src","assets/media/data/audio_icons/music_on.png"):"controls_prev"==a?hd.children("img").attr("src","assets/media/data/gallery_icons/prev_on.png"):"controls_toggle"==a?O?I.children("img").attr("src",
"assets/media/data/gallery_icons/pause_on.png"):I.children("img").attr("src","assets/media/data/gallery_icons/play_on.png"):"controls_next"==a?id.children("img").attr("src","assets/media/data/gallery_icons/next_on.png"):"info_toggle"==a?tb.children("img").attr("src","assets/media/data/gallery_icons/info_on.png"):"link_toggle"==a?Ib.children("img").attr("src","assets/media/data/gallery_icons/link_on.png"):"playlist_toggle"==a?ja?lb.children("img").attr("src","assets/media/data/gallery_icons/minus_on.png"):lb.children("img").attr("src","assets/media/data/gallery_icons/plus_on.png"):
"gallery_fullscreen"==a?"normal"==Cc?Va.children("img").attr("src","assets/media/data/gallery_icons/fullscreen_enter_on.png"):Va.children("img").attr("src","assets/media/data/gallery_icons/fullscreen_exit_on.png"):"share_toggle"==a?jd.children("img").attr("src","assets/media/data/gallery_icons/share_toggle_on.png"):"facebook_toggle"==a?kd.children("img").attr("src","assets/media/data/gallery_icons/facebook_on.png"):"twitter_toggle"==a?ld.children("img").attr("src","assets/media/data/gallery_icons/twitter_on.png"):"tumblr_toggle"==
a&&md.children("img").attr("src","assets/media/data/gallery_icons/tumblr_on.png"))}function wa(a){w&&(a||(a=window.event),a.cancelBubble?a.cancelBubble=!0:a.stopPropagation&&a.stopPropagation(),a=g(a.currentTarget).attr("class"),"music_toggle"==a?cc.children("img").attr("src","assets/media/data/audio_icons/music.png"):"controls_prev"==a?hd.children("img").attr("src","assets/media/data/gallery_icons/prev.png"):"controls_toggle"==a?O?I.children("img").attr("src","assets/media/data/gallery_icons/pause.png"):I.children("img").attr("src",
"assets/media/data/gallery_icons/play.png"):"controls_next"==a?id.children("img").attr("src","assets/media/data/gallery_icons/next.png"):"info_toggle"==a?tb.children("img").attr("src","assets/media/data/gallery_icons/info.png"):"link_toggle"==a?Ib.children("img").attr("src","assets/media/data/gallery_icons/link.png"):"playlist_toggle"==a?ja?lb.children("img").attr("src","assets/media/data/gallery_icons/minus.png"):lb.children("img").attr("src","assets/media/data/gallery_icons/plus.png"):"gallery_fullscreen"==a?"normal"==Cc?Va.children("img").attr("src",
"assets/media/data/gallery_icons/fullscreen_enter.png"):Va.children("img").attr("src","assets/media/data/gallery_icons/fullscreen_exit.png"):"share_toggle"==a?jd.children("img").attr("src","assets/media/data/gallery_icons/share_toggle.png"):"facebook_toggle"==a?kd.children("img").attr("src","assets/media/data/gallery_icons/facebook.png"):"twitter_toggle"==a?ld.children("img").attr("src","assets/media/data/gallery_icons/twitter.png"):"tumblr_toggle"==a&&md.children("img").attr("src","assets/media/data/gallery_icons/tumblr.png"))}function Ca(a){if(!w)return!1;
a=g(a.currentTarget).attr("class");if("music_toggle"==a)Wc();else if("controls_prev"==a){if(sa)return;nd()}else if("controls_toggle"==a)Ud(!0);else if("controls_next"==a){if(sa)return;od()}else if("info_toggle"==a){if(!Dc)return;pd()}else"link_toggle"==a?Ec&&("_parent"==Jb?window.location.href=Ec:"_blank"==Jb&&window.open(Ec,Jb)):"playlist_toggle"==a?Pc():"gallery_fullscreen"==a?qd&&(document.fullScreenElement&&null!==document.fullScreenElement||!document.mozFullScreen&&!document.webkitIsFullScreen?
document.documentElement.requestFullScreen?document.documentElement.requestFullScreen():document.documentElement.mozRequestFullScreen?document.documentElement.mozRequestFullScreen():document.documentElement.webkitRequestFullScreen&&document.documentElement.webkitRequestFullScreen():document.cancelFullScreen?document.cancelFullScreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitCancelFullScreen&&document.webkitCancelFullScreen()):"facebook_toggle"==a?rd("facebook"):
"twitter_toggle"==a?rd("twitter"):"tumblr_toggle"==a&&rd("tumblr");return!1}function rd(a){var b=window.location.href,c="",d="https:"==window.location.protocol?"https:":"http:",e=(window.screen.width-600)/2,f=(window.screen.height-300)/2,k=g(Y[v()]);void 0!=k.attr("data-description")&&(c=k.attr("data-description"));if("facebook"==a)var h="https://www.facebook.com/sharer.php?href="+encodeURIComponent(b)+"&display=popup";else"twitter"==a?h=d+"//twitter.com/intent/tweet?url="+encodeURIComponent(b)+"&text="+
encodeURIComponent(c)+"&via="+m.twitterVia:"tumblr"==a&&(h=d+"//www.tumblr.com/share/link?url="+encodeURIComponent(b)+"&amp;name=&amp;description="+encodeURIComponent(c));window.open(h,"","menubar=no,toolbar=no,resizable=yes,scrollbars=yes,width=600,height=300,left="+e+",top="+f)}function od(){"KEN_BURNS"!=B?E||gd():Sa||gd()}function nd(){"KEN_BURNS"!=B?E||Xd():Sa||Xd()}function Sb(a){"KEN_BURNS"!=B?ta?E||(Z(),ob(),qb(),T=a,Bb(),Fa()):(Z(),ob(),qb(),T=a,Bb(),Fa()):Sa||(Z(),ob(),qb(),T=a,Bb(),Fa())}
function gd(){Z();ob();qb();T++;if(T>x-1&&(T=0,Yd)){u++;u>D-1&&(u=0);q+Ga-1<u?q=u:0==u&&(q=u);aa?(g.address.value(bb(v())),g.address.history()||g.address.history(!0)):ib();return}aa?(g.address.value(bb(v())),g.address.history()||g.address.history(!0)):(Bb(),Fa())}function Xd(){Z();ob();qb();T--;if(0>T&&(T=x-1,Yd)){u--;0>u&&(u=D-1);T=jb[u].mediaName.length-1;aa?(g.address.value(bb(v())),g.address.history()||g.address.history(!0)):ib();return}aa?(g.address.value(bb(v())),g.address.history()||g.address.history(!0)):
(Bb(),Fa())}function Qd(){var a=g(Y[v()]);Kb&&clearTimeout(Kb);la&&(la.remove(),la=null);var b=g(Y[v()]);if(void 0!=b.attr("data-caption-id")){b=b.attr("data-caption-id");la=Re.find(b).clone().css({display:"none"}).appendTo(J);var c,d,e=0,f=0;ub=[];var k=la.children().length;for(e;e<k;e++){b={};ub.push(b);var h=g(la.children()[e]);b.content_item=h;b.startX=parseInt(h.attr("data-startX"),10);b.startY=parseInt(h.attr("data-startY"),10);b.endX=parseInt(h.attr("data-endX"),10);b.endY=parseInt(h.attr("data-endY"),
10);b.ease=h.attr("data-ease");b.time=parseInt(h.attr("data-time"),10);b.delay=parseInt(h.attr("data-delay"),10);var n=b.time+b.delay;n>f&&(f=n);n=h.attr("data-caption-align-x")||"l";var t=h.attr("data-caption-align-y")||"t";"l"==n?c="left":"r"==n&&(c="right");"t"==t?d="top":"b"==t&&(d="bottom");b.pos_x=c;b.pos_y=d;n={};h.css((n.position="absolute",n.opacity=0,n[c]=b.startX+"px",n[d]=b.startY+"px",n.zIndex=9,n))}la.css("display","block");e=0;for(e;e<k;e++)b=ub[e],h=b.content_item,c={},h.delay(b.delay).animate((c[b.pos_x]=
b.endX+"px",c[b.pos_y]=b.endY+"px",c.opacity=1,c),{duration:b.time,easing:b.ease})}Fc&&void 0!=a.attr("data-description")&&!Mc(a.attr("data-description"))&&(Zd=a.attr("data-description"),La.css("width","auto").html(Zd),parseInt(La.css("width"),10)>$d&&La.css("width",$d+"px"),Fc&&(tb.children("img").attr("src","assets/media/data/gallery_icons/info.png"),tb.css({opacity:0,display:"block"}).stop().animate({opacity:1},{duration:400,easing:"easeOutSine"})),Se&&pd());vb&&(void 0!=a.attr("data-vimeo")?(gc="vimeo",
hc=a.attr("data-vimeo"),dc("on")):void 0!=a.attr("data-youtube")?(gc="youtube",hc=a.attr("data-youtube"),dc("on")):void 0!=a.attr("data-localMp4")&&(gc="local",b=a.attr("data-localMp4"),c="",void 0!=a.attr("data-localOgv")&&(c=a.attr("data-localOgv")),d="",void 0!=a.attr("data-localWebm")&&(d=a.attr("data-localWebm")),h="",void 0!=a.attr("data-localPreview")&&(h=a.attr("data-localPreview")),hc={mp4:b,ogv:c,webm:d,preview:h},dc("on")));sd&&Ib.css({opacity:0,display:"block"}).stop().animate({opacity:1},
{duration:400,easing:"easeOutSine"});Dc=!0;"undefined"!==typeof afterSlideChange&&afterSlideChange(v())}function Fb(a){sd=!1;a=g(Y[v()]);void 0!=a.attr("data-link")&&(sd=!0,Ec=a.attr("data-link"),void 0!=a.attr("data-target")&&(Jb=a.attr("data-target")),Jb||(Jb="_blank"))}function Te(){if(ub.length){var a=0,b=ub.length;for(a;a<b;a++){var c=ub[a];var d=c.content_item;var e={};d.stop().animate((e[c.pos_x]=c.startX+"px",e[c.pos_y]=c.startY+"px",e.opacity=0,e),{duration:500,easing:"easeOutQuint"})}Kb&&
clearTimeout(Kb);Kb=setTimeout(function(){clearTimeout(Kb);la&&(la.remove(),la=null);ub=[]},500)}}function ob(){Dc=!1;"undefined"!==typeof beforeSlideChange&&beforeSlideChange(v());Te();Ka=null;fb.length&&fb.stop().css("width","0px");Na&&gb&&(gb=!1,oa.playAudio());ha&&(ha=!1,O=!0);vb&&(fd=!1,ic&&Nb("off",!0),dc("off"));Fc&&(tb.stop().animate({opacity:0},{duration:400,easing:"easeOutSine",complete:function(){tb.css("display","none")}}),Lb&&(La.stop().animate({opacity:0},{duration:400,easing:"easeOutSine",
complete:function(){La.css("display","none")}}),Lb=!1));Ib.stop().animate({opacity:0},{duration:400,easing:"easeOutSine",complete:function(){Ib.css("display","none")}})}function pd(){Gc&&Wc();Lb?(La.stop().animate({opacity:0},{duration:400,easing:"easeOutSine",complete:function(){La.css("display","none")}}),Lb=!1):(La.css({opacity:0,display:"block"}).stop().animate({opacity:1},{duration:400,easing:"easeOutSine"}),Lb=!0)}function Wc(){Na&&(Lb&&pd(),Gc?(oa.stop().animate({opacity:0},{duration:400,easing:"easeOutSine",
complete:function(){oa.css("display","none")}}),Gc=!1):(oa.css({opacity:0,display:"block"}).stop().animate({opacity:1},{duration:400,easing:"easeOutSine"}),Gc=!0,ae||(oa.reinitNameScroll(),ae=!0)))}function l(a){if("top"==W||"bottom"==W)var b="inside"!=qa?"w"==a?p.width():p.height()-r.height():"w"==a?p.width():p.height();else if("left"==W||"right"==W)b="inside"!=qa?"w"==a?p.width()-r.width():p.height():"w"==a?p.width():p.height();return b}function Ue(){"outside"==qa&&("left"==W||"right"==W?J.css("width",
l("w")+"px"):J.css("height",l("h")+"px"));if(E)Hc();else switch(B){case "SLIDE":be();break;case "SPLIT":ce();break;case "REVEAL":de();break;case "ALPHA":ee();break;case "ZOOM":fe();break;case "KEN_BURNS":Hc()}sc();oc();Wb||Ub()}function Hc(){Z();ya&&clearInterval(ya);Ra.stop().empty().css({zIndex:0,opacity:1,background:"none",overflow:"visible",display:"none"});db.stop().empty().css({zIndex:1,opacity:1,background:"none",overflow:"visible",display:"none"});Fa(!0)}function ce(){var a=Ba(!1),b=a.splitCase,
c=g(a.children("div[data-title=split1]")),d=g(a.children("div[data-title=split2]")),e=c.children("img"),f=d.children("img"),k=e[0].origWidth,h=e[0].origHeight,n=l("w"),t=l("h");if(Ha||k>n||h>t)h=Ia(J,k,h,ua),k=h.width,h=h.height;e.css({width:k+"px",height:h+"px",left:n/2-k/2+"px",top:t/2-h/2+"px"});f.css({width:k+"px",height:h+"px"});a.css({width:n+"px",height:t+"px",left:"0px",top:"0px"});if("horizontalUpLeft"==b||"horizontalUpRight"==b||"horizontalSplit"==b)c.css({top:0,left:0,width:n+"px",height:t/
2+"px"}),d.css({top:t/2+"px",left:0,width:n+"px",height:t/2+"px"}),f.css({left:n/2-k/2+"px",top:-t/2+(t-h)/2+"px"});else if("verticalUpLeft"==b||"verticalDownLeft"==b||"verticalSplit"==b)c.css({top:0,left:0,width:n/2+"px",height:t+"px"}),d.css({top:0,left:n/2+"px",width:n/2+"px",height:t+"px"}),f.css({left:-k/2+"px",top:t/2-h/2+"px"})}function de(){var a=Ba(!1),b=a.children(),c=b[0].origWidth,d=b[0].origHeight,e=l("w"),f=l("h");if(Ha||c>e||d>f)d=Ia(J,c,d,ua),c=d.width,d=d.height;b.css({width:c+"px",
height:d+"px",left:e/2-c/2+"px",top:f/2-d/2+"px"});a.css({width:e+"px",height:f+"px",left:"0px",top:"0px"})}function be(){var a=Ba(!1),b=a.children(),c=b[0].origWidth,d=b[0].origHeight,e=l("w"),f=l("h");if(Ha||c>e||d>f)d=Ia(J,c,d,ua),c=d.width,d=d.height;b.css({width:c+"px",height:d+"px",left:e/2-c/2+"px",top:f/2-d/2+"px"});a.css({width:e+"px",height:f+"px"})}function fe(){var a=Ba(!1),b=a.children(),c=b[0].origWidth,d=b[0].origHeight,e=l("w"),f=l("h");if(Ha||c>e||d>f)d=Ia(J,c,d,ua),c=d.width,d=d.height;
a.css({width:e+"px",height:f+"px",left:0,top:0});b.css({width:c+"px",height:d+"px",left:e/2-c/2+"px",top:f/2-d/2+"px"})}function ee(){var a=Ba(!1),b=a.children(),c=b[0].origWidth,d=b[0].origHeight,e=l("w"),f=l("h");if(Ha||c>e||d>f)d=Ia(J,c,d,ua),c=d.width,d=d.height;b.css({width:c+"px",height:d+"px",left:e/2-c/2+"px",top:f/2-d/2+"px"});a.css({width:e+"px",height:f+"px",left:"0px",top:"0px"})}m=g.extend(!0,{},{twitterVia:"dev"},m);var w=!1,td=this,ca=MGCUtils.isMobile();g("body");var ge=g(window),
he=g(document),na="",jc=!0,kc=!0;if("ontouchstart"in window){var ie=!0;na="touchstart.ap"}else ie=!1,na="mousedown.ap";window.onorientationchange=function(){};var qa=m.playlistIndex,cb=m.fixMenu;if(cb)var fa=m.fixMenuSettings.side,ra=m.fixMenuSettings.value;var qc=m.fixThumbs;if(qc)var Cb=m.fixThumbsSettings.side,rc=m.fixThumbsSettings.value;var Ve=m.disableRightClick,We=m.componentFixedSize,W=m.playlistPosition,Wa=m.thumbOrientation,Pa=m.menuOrientation,$d=m.maxDescriptionWidth,ye=m.autoOpenPlaylist,
O=m.slideshowOn,Bc=m.slideshowDelay,Ka,Qe=m.useGlobalDelay,Tc=m.menuItemOffOpacity,vc=m.thumbOffOpacity,Qc=m.playlistHidden,Kd=m.randomPlay,Yd=m.slideshowAdvancesToNextCategory,Ha=m.forceImageFitMode,kb=m.visibleThumbs,ia=m.thumbBtnSpace,Qa=m.visibleMenuItems,ka=m.menuBtnSpace,Se=m.autoOpenDescription,vb=m.useVideo,Na=m.useAudio,Xe=m.pauseSlideshowOnHover,za=m.autoAdjustPlaylist,p=g(m.componentHolder),bc=p.find(".componentPreloader");sb();var fb=p.find(".slide_timer"),R=p.find(".thumbWrapper"),J=
p.find(".componentHolder"),r=p.find(".componentPlaylist"),U=p.find(".thumbHolder"),G=p.find(".menuHolder"),S=p.find(".menuWrapper"),Ra=p.find(".mediaHolder1").attr("data-title","_holder1").css("zIndex",0).on("dragstart",function(a){a.preventDefault();return!1}).on("selectstart",function(a){a.preventDefault();return!1}),db=p.find(".mediaHolder2").attr("data-title","_holder2").css("zIndex",1).on("dragstart",function(a){a.preventDefault();return!1}).on("selectstart",function(a){a.preventDefault();return!1});
g(".mediaHolder1, .mediaHolder2").swipe({swipe:function(a,b){sa||("right"==b?nd():"left"==b&&od())}});var M=p.find(".prevThumbBtn").css({display:"none",cursor:"pointer"}).attr("data-id","prevThumbBtn").on(na,Cd),pa=p.find(".nextThumbBtn").css({display:"none",cursor:"pointer"}).attr("data-id","nextThumbBtn").on(na,Cd),Re=p.find(".caption_holder");if(vb)var zb=g(m.playerHolder),gc,hc,Ma=!1,Ob,ic=!1,ha=!1,ne=m.playerBgOpacity,fc=p.find(".player_bg").css("display","none").on(na,function(){if(!w||F||Ma)return!1;
Ma=!0;Nb("off");return!1}),ec=p.find(".player_bigPlay").css({display:"none",cursor:"pointer"}).on("click",function(){if(!w||F||Ma||!Dc)return!1;Ma=!0;O&&(fd=ha=!0,Pb(!1));Nb("on");return!1});else g(m.playerHolder).remove(),p.find(".player_bg").remove();if(Na){var cc=p.find(".music_toggle").css("cursor","pointer").on(na,Ca);if(!ca)cc.on("mouseover",va).on("mouseout",wa);var Gc=!1,ae=!1,gb=!1,oa=g(H.playerHolder).html5audio(H);cc.css({opacity:0,display:"block"}).stop().animate({opacity:1},{duration:1E3,
easing:"easeOutSine"})}else H&&(g(H.playerHolder).remove(),g(H.playlistHolder).remove()),p.find(".music_toggle").remove();var qd=!1;if(function(){var a=!1;document.documentElement.requestFullScreen?a=!0:document.documentElement.mozRequestFullScreen?a=!0:document.documentElement.webkitRequestFullScreen&&(a=!0);return a}()&&p.find(".gallery_fullscreen").length){qd=!0;var Cc="normal",Va=p.find(".gallery_fullscreen").css("cursor","pointer").on("click",Ca);if(!ca)Va.on("mouseover",va).on("mouseout",wa)}else p.find(".gallery_fullscreen").remove();
if(qd)he.on("fullscreenchange mozfullscreenchange webkitfullscreenchange",function(){document.fullScreenElement&&null!==document.fullScreenElement||!document.mozFullScreen&&!document.webkitIsFullScreen?(Cc="normal",Va.find("img").attr("src","assets/media/data/gallery_icons/fullscreen_enter.png")):(Cc="fullscreen",Va.find("img").attr("src","assets/media/data/gallery_icons/fullscreen_exit.png"))});var kd=p.find(".facebook_toggle").css("cursor","pointer").on("click",Ca);if(!ca)kd.on("mouseover",va).on("mouseout",
wa);var ld=p.find(".twitter_toggle").css("cursor","pointer").on("click",Ca);if(!ca)ld.on("mouseover",va).on("mouseout",wa);var md=p.find(".tumblr_toggle").css("cursor","pointer").on("click",Ca);if(!ca)md.on("mouseover",va).on("mouseout",wa);var Ye=p.find(".share_controls"),jd=p.find(".share_toggle").css("cursor","pointer").on("click",function(){Ye.toggle()});if(!ca)jd.on("mouseover",va).on("mouseout",wa);var Nc=!1;"max"==kb&&(Nc=!0,qc=!1);var Xb=!1,xc=R.children("div[class=playlist]"),D=xc.length,
Wb=!1;1==D&&(Wb=!0);var ub=[],la,Y=[],ma,Kb,x,ja=!1,Hb,Wd,Vd,ed=500,Yc=!1,Xc=!1,fd=!1,$b="tl tc tr ml mc mr bl bc br".split(" "),Sa=!1,He=["top","left","bottom","right"],Zc,Ne=["top","left","bottom","right"],Yb,Ke="horizontalUpLeft horizontalUpRight horizontalSplit verticalUpLeft verticalDownLeft verticalSplit".split(" "),da,ad=500,bd="easeOutSine",T=-1,F,Rc,ac,ud,Ae=100,ya,yc=!1,sa=!1,z,A,E=!1,pb=null,wc=[],sd=!1,Ec,Jb,eb={},Nd=[],Da=0;for(Da;Da<D;Da++){var wb={};var Pd=[];wb.mainLoaded=!1;wb.main=
Pd;eb[Da]=wb;Nd[Da]=g(xc[Da]).attr("data-title")}var Ld=[],Dc=!1,ta=!1,B,ua=!1,V,N,ea,Oa,y,Bd=50+2*ia,P,pc=1,C=0,Md=!1,Ga=0,mb,Tb=!1;"max"==Qa&&(Tb=!0,cb=!1);var q=0,Qb=!1,Vc=[],tc=[],Za=[],uc=50+2*ka,K,Aa,Q=0,Vb=0,nb=0,ba,Uc=null;if(p.find(".slideshow_controls").length){var Mb=p.find(".slideshow_controls"),hd=Mb.find(".controls_prev").css("cursor","pointer").on(na,Ca),I=Mb.find(".controls_toggle").css("cursor","pointer").on(na,Ca),id=Mb.find(".controls_next").css("cursor","pointer").on(na,Ca);ca||
(hd.on("mouseover",va).on("mouseout",wa),I.on("mouseover",va).on("mouseout",wa),id.on("mouseover",va).on("mouseout",wa));O&&I.children("img").attr("src","assets/media/data/gallery_icons/pause.png");Mb.css({opacity:0,display:"block"}).stop().animate({opacity:1},{duration:1E3,easing:"easeOutSine"})}var Fc=!1;if(0<p.find(".info_holder").length){Fc=!0;var je=p.find(".data_controls"),Lb=!1,Zd,tb=p.find(".info_toggle").css("cursor","pointer").on(na,Ca);if(!ca)tb.on("mouseover",va).on("mouseout",wa);var La=p.find(".info_holder")}else p.find(".info_toggle").remove(),
p.find(".info_holder").remove();var Ib=p.find(".link_toggle").css("cursor","pointer").on("click",Ca);if(!ca)Ib.on("mouseover",va).on("mouseout",wa);if("inside"==qa){var lb=p.find(".playlist_toggle").css("cursor","pointer").on(na,Ca).css({opacity:0,display:"block"}).stop().animate({opacity:1},{duration:1E3,easing:"easeOutSine"});if(!ca)lb.on("mouseover",va).on("mouseout",wa)}else p.find(".playlist_toggle").remove();r&&r.css("zIndex",10);je&&je.css("zIndex",11);Mb&&Mb.css("zIndex",12);La&&La.css("zIndex",
13);bc&&bc.css("zIndex",14);Na&&(cc.css("zIndex",15),oa.css("zIndex",16));fb.length&&fb.css({opacity:.5,zIndex:17});Va&&Va.css("zIndex",18);vb&&(ec.css("zIndex",28),fc.css("zIndex",29),zb.css("zIndex",30));Xe&&p.mouseenter(function(){O&&(ha=!0,Pb(!1));return!1}).mouseleave(function(){ha&&!ic&&(ha=!1,Pb(!0));return!1});ie&&(G.length&&pe(),r.length&&!Qc&&oe());var jb=[],Ea,Lc=!1,xa,lc,aa=m.useDeeplink,mc=m.startUrl,nc,Ab,hb;Da=0;for(Da;Da<D;Da++){var ke=g(xc[Da]);var Ic=0;var le=[];wb={};var vd=zd(ke.attr("data-address"));
wb.categoryName=vd;wb.mediaName=le;jb.push(wb);var me=ke.find("ul li");var Ze=me.length;for(Ic;Ic<Ze;Ic++){var $e=g(me[Ic]);var af=$e.attr("data-address");vd=zd(af);le.push(vd)}}if(vb)zb.videoGallery({mg_gallery:td,mg_settings:m,wrapper:p,videoGallerySetupDone:function(){Ob=this;aa?(g.address.internalChange(Jc),g.address.externalChange(Kc)):(u=m.activeCategory,ib())}});else if(aa)g.address.internalChange(Jc),g.address.externalChange(Kc);else{var u=m.activeCategory;ib()}aa&&(g.address.internalChange(Jc),
g.address.externalChange(Kc));if(Ve)he.on("contextmenu",function(a){return!1});We||ge.resize(function(){if(!w||F)return!1;ud&&clearTimeout(ud);ud=setTimeout(Ue,100)});ge.on("focus",function(){if(E)Hc();else switch(B){case "SLIDE":be();break;case "SPLIT":ce();break;case "REVEAL":de();break;case "ALPHA":ee();break;case "ZOOM":fe();break;case "KEN_BURNS":Hc()}});this.toggleSlideshow=function(a){if(!w||F)return!1;void 0==a?Ud():Pb(a)};this.togglePlaylist=function(){if(!w)return!1;"inside"==qa&&Pc()};
this.nextItem=function(){if(!w||sa||F)return!1;Z();od()};this.previousItem=function(){if(!w||sa||F)return!1;Z();nd()};this.loadItem=function(a){if(!w||sa||F)return!1;if("KEN_BURNS"!=B){if(E)return!1}else if(Sa)return!1;Z();if("number"===typeof a)0>a?a=0:a>x-1&&(a=x-1);else if("string"===typeof a){if(!aa)return alert("loadItem method accepts string parameter only if deeplink is used!"),!1;var b=!1,c=0,d=jb[u].mediaName,e=d.length;for(c;c<e;c++)if(d[c]==a){Ab=c;b=!0;break}if(!b)return aa&&g.address.history(!1),
!1;a=Ab}else return alert("Invalid value for loadItem!"),!1;if(a==T)return!1;Xb=!0;qb();aa?(g.address.value(bb(a)),g.address.history()||g.address.history(!0)):Sb(a)};this.loadCategory=function(a){if(!w||F)return!1;Z();if("number"===typeof a)0>a?a=0:a>D-1&&(a=D-1);else if("string"===typeof a){if(!aa)return alert("loadCategory method accepts string parameter only if deeplink is used!"),!1;if(!Ad(a))return g.address.history(!1),!1;a=u}else return alert("Invalid value for openCategory!"),!1;if(a==nc)return!1;
F=!0;Sc();u=a;aa?(g.address.value(bb(0)),g.address.history()||g.address.history(!0)):ib()};g.fn.multiGallery.getSlideshowForcePause=function(){return td.getSlideshowForcePause()};g.fn.multiGallery.videoEnd=function(){td.videoEnd()};this.getSlideshow=function(){return O};this.getSlideshowForcePause=function(){return ha};this.videoPlayerHolderState=function(){var a=!0;"none"==zb.css("display")&&(a=!1);return a};this.closePlayer=function(){if(!w||F||!vb||Ma)return!1;Ma=!0;Nb("off")};this.videoEnd=function(){if(!w||
F||!vb)return!1;Ma=!0;Nb("off")};this.getAudioPlaylist=function(){if(!w)return!1;Na&&oa&&oa.outputPlaylistData()};return this}})(jQuery);